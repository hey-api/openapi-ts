'use strict';var B=require('axios');function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var B__default=/*#__PURE__*/_interopDefault(B);var w=async(r,t)=>{let e=typeof t=="function"?await t(r):t;if(e)return r.scheme==="bearer"?`${r.bearerFormat!==undefined?r.bearerFormat:"Bearer"} ${e}`:r.scheme==="basic"?`Basic ${btoa(e)}`:e},z=(r,t,e)=>{typeof e=="string"||e instanceof Blob?r.append(t,e):r.append(t,JSON.stringify(e));},O=(r,t,e)=>{typeof e=="string"?r.append(t,e):r.append(t,JSON.stringify(e));},j={bodySerializer:r=>{let t=new FormData;return Object.entries(r).forEach(([e,i])=>{i!=null&&(Array.isArray(i)?i.forEach(a=>z(t,e,a)):z(t,e,i));}),t}},q={bodySerializer:r=>JSON.stringify(r,(t,e)=>typeof e=="bigint"?e.toString():e)},P={bodySerializer:r=>{let t=new URLSearchParams;return Object.entries(r).forEach(([e,i])=>{i!=null&&(Array.isArray(i)?i.forEach(a=>O(t,e,a)):O(t,e,i));}),t.toString()}},$=r=>{switch(r){case "label":return ".";case "matrix":return ";";case "simple":return ",";default:return "&"}},v=r=>{switch(r){case "form":return ",";case "pipeDelimited":return "|";case "spaceDelimited":return "%20";default:return ","}},k=r=>{switch(r){case "label":return ".";case "matrix":return ";";case "simple":return ",";default:return "&"}},h=({allowReserved:r,explode:t,name:e,style:i,value:a})=>{if(!t){let n=(r?a:a.map(o=>encodeURIComponent(o))).join(v(i));switch(i){case "label":return `.${n}`;case "matrix":return `;${e}=${n}`;case "simple":return n;default:return `${e}=${n}`}}let s=$(i),l=a.map(n=>i==="label"||i==="simple"?r?n:encodeURIComponent(n):f({allowReserved:r,name:e,value:n})).join(s);return i==="label"||i==="matrix"?s+l:l},f=({allowReserved:r,name:t,value:e})=>{if(e==null)return "";if(typeof e=="object")throw new Error("Deeply-nested arrays/objects aren\u2019t supported. Provide your own `querySerializer()` to handle these.");return `${t}=${r?e:encodeURIComponent(e)}`},g=({allowReserved:r,explode:t,name:e,style:i,value:a})=>{if(a instanceof Date)return `${e}=${a.toISOString()}`;if(i!=="deepObject"&&!t){let n=[];Object.entries(a).forEach(([u,d])=>{n=[...n,u,r?d:encodeURIComponent(d)];});let o=n.join(",");switch(i){case "form":return `${e}=${o}`;case "label":return `.${o}`;case "matrix":return `;${e}=${o}`;default:return o}}let s=k(i),l=Object.entries(a).map(([n,o])=>f({allowReserved:r,name:i==="deepObject"?`${e}[${n}]`:n,value:o})).join(s);return i==="label"||i==="matrix"?s+l:l};var T=/\{[^{}]+\}/g,E=({path:r,url:t})=>{let e=t,i=t.match(T);if(i)for(let a of i){let s=false,l=a.substring(1,a.length-1),n="simple";l.endsWith("*")&&(s=true,l=l.substring(0,l.length-1)),l.startsWith(".")?(l=l.substring(1),n="label"):l.startsWith(";")&&(l=l.substring(1),n="matrix");let o=r[l];if(o==null)continue;if(Array.isArray(o)){e=e.replace(a,h({explode:s,name:l,style:n,value:o}));continue}if(typeof o=="object"){e=e.replace(a,g({explode:s,name:l,style:n,value:o}));continue}if(n==="matrix"){e=e.replace(a,`;${f({name:l,value:o})}`);continue}let u=encodeURIComponent(n==="label"?`.${o}`:o);e=e.replace(a,u);}return e},U=({allowReserved:r,array:t,object:e}={})=>a=>{let s=[];if(a&&typeof a=="object")for(let l in a){let n=a[l];if(n!=null){if(Array.isArray(n)){s=[...s,h({allowReserved:r,explode:true,name:l,style:"form",value:n,...t})];continue}if(typeof n=="object"){s=[...s,g({allowReserved:r,explode:true,name:l,style:"deepObject",value:n,...e})];continue}s=[...s,f({allowReserved:r,name:l,value:n})];}}return s.join("&")},A=async({security:r,...t})=>{for(let e of r){let i=await w(e,t.auth);if(!i)continue;let a=e.name??"Authorization";switch(e.in){case "query":t.query||(t.query={}),t.query[a]=i;break;case "header":default:t.headers[a]=i;break}return}},b=r=>D({path:r.path,query:r.paramsSerializer?undefined:r.query,querySerializer:typeof r.querySerializer=="function"?r.querySerializer:U(r.querySerializer),url:r.url}),D=({path:r,query:t,querySerializer:e,url:i})=>{let s=i.startsWith("/")?i:`/${i}`;r&&(s=E({path:r,url:s}));let l=t?e(t):"";return l.startsWith("?")&&(l=l.substring(1)),l&&(s+=`?${l}`),s},S=(r,t)=>{let e={...r,...t};return e.headers=y(r.headers,t.headers),e},H=["common","delete","get","head","patch","post","put"],y=(...r)=>{let t={};for(let e of r){if(!e||typeof e!="object")continue;let i=Object.entries(e);for(let[a,s]of i)if(H.includes(a)&&typeof s=="object")t[a]={...t[a],...s};else if(s===null)delete t[a];else if(Array.isArray(s))for(let l of s)t[a]=[...t[a]??[],l];else s!==undefined&&(t[a]=typeof s=="object"?JSON.stringify(s):s);}return t},x=(r={})=>({...r});var I=(r={})=>{let t=S(x(),r),{auth:e,...i}=t,a=B__default.default.create(i),s=()=>({...t}),l=o=>(t=S(t,o),a.defaults={...a.defaults,...t,headers:y(a.defaults.headers,t.headers)},s()),n=async o=>{let u={...t,...o,axios:o.axios??t.axios??a,headers:y(t.headers,o.headers)};u.security&&await A({...u,security:u.security}),u.body&&u.bodySerializer&&(u.body=u.bodySerializer(u.body));let d=b(u);try{let m=u.axios,{auth:c,...R}=u,C=await m({...R,baseURL:u.baseURL,data:u.body,headers:u.headers,params:u.paramsSerializer?u.query:void 0,url:d}),{data:p}=C;return u.responseType==="json"&&(u.responseValidator&&await u.responseValidator(p),u.responseTransformer&&(p=await u.responseTransformer(p))),{...C,data:p??{}}}catch(m){let c=m;if(u.throwOnError)throw c;return c.error=c.response?.data??{},c}};return {buildUrl:b,delete:o=>n({...o,method:"DELETE"}),get:o=>n({...o,method:"GET"}),getConfig:s,head:o=>n({...o,method:"HEAD"}),instance:a,options:o=>n({...o,method:"OPTIONS"}),patch:o=>n({...o,method:"PATCH"}),post:o=>n({...o,method:"POST"}),put:o=>n({...o,method:"PUT"}),request:n,setConfig:l}};exports.createClient=I;exports.createConfig=x;exports.formDataBodySerializer=j;exports.jsonBodySerializer=q;exports.urlSearchParamsBodySerializer=P;//# sourceMappingURL=index.cjs.map
//# sourceMappingURL=index.cjs.map
