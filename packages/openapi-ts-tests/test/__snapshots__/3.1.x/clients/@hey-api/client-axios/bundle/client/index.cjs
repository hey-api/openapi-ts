'use strict';var B=require('axios');function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var B__default=/*#__PURE__*/_interopDefault(B);var w=async(t,e)=>{let r=typeof e=="function"?await e(t):e;if(r)return t.scheme==="bearer"?`Bearer ${r}`:t.scheme==="basic"?`Basic ${btoa(r)}`:r},z=(t,e,r)=>{typeof r=="string"||r instanceof Blob?t.append(e,r):t.append(e,JSON.stringify(r));},O=(t,e,r)=>{typeof r=="string"?t.append(e,r):t.append(e,JSON.stringify(r));},j={bodySerializer:t=>{let e=new FormData;return Object.entries(t).forEach(([r,n])=>{n!=null&&(Array.isArray(n)?n.forEach(i=>z(e,r,i)):z(e,r,n));}),e}},k={bodySerializer:t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString():r)},$={bodySerializer:t=>{let e=new URLSearchParams;return Object.entries(t).forEach(([r,n])=>{n!=null&&(Array.isArray(n)?n.forEach(i=>O(e,r,i)):O(e,r,n));}),e.toString()}},q=t=>{switch(t){case "label":return ".";case "matrix":return ";";case "simple":return ",";default:return "&"}},v=t=>{switch(t){case "form":return ",";case "pipeDelimited":return "|";case "spaceDelimited":return "%20";default:return ","}},P=t=>{switch(t){case "label":return ".";case "matrix":return ";";case "simple":return ",";default:return "&"}},m=({allowReserved:t,explode:e,name:r,style:n,value:i})=>{if(!e){let s=(t?i:i.map(a=>encodeURIComponent(a))).join(v(n));switch(n){case "label":return `.${s}`;case "matrix":return `;${r}=${s}`;case "simple":return s;default:return `${r}=${s}`}}let o=q(n),l=i.map(s=>n==="label"||n==="simple"?t?s:encodeURIComponent(s):f({allowReserved:t,name:r,value:s})).join(o);return n==="label"||n==="matrix"?o+l:l},f=({allowReserved:t,name:e,value:r})=>{if(r==null)return "";if(typeof r=="object")throw new Error("Deeply-nested arrays/objects aren\u2019t supported. Provide your own `querySerializer()` to handle these.");return `${e}=${t?r:encodeURIComponent(r)}`},g=({allowReserved:t,explode:e,name:r,style:n,value:i})=>{if(i instanceof Date)return `${r}=${i.toISOString()}`;if(n!=="deepObject"&&!e){let s=[];Object.entries(i).forEach(([u,d])=>{s=[...s,u,t?d:encodeURIComponent(d)];});let a=s.join(",");switch(n){case "form":return `${r}=${a}`;case "label":return `.${a}`;case "matrix":return `;${r}=${a}`;default:return a}}let o=P(n),l=Object.entries(i).map(([s,a])=>f({allowReserved:t,name:n==="deepObject"?`${r}[${s}]`:s,value:a})).join(o);return n==="label"||n==="matrix"?o+l:l};var T=/\{[^{}]+\}/g,E=({path:t,url:e})=>{let r=e,n=e.match(T);if(n)for(let i of n){let o=false,l=i.substring(1,i.length-1),s="simple";l.endsWith("*")&&(o=true,l=l.substring(0,l.length-1)),l.startsWith(".")?(l=l.substring(1),s="label"):l.startsWith(";")&&(l=l.substring(1),s="matrix");let a=t[l];if(a==null)continue;if(Array.isArray(a)){r=r.replace(i,m({explode:o,name:l,style:s,value:a}));continue}if(typeof a=="object"){r=r.replace(i,g({explode:o,name:l,style:s,value:a}));continue}if(s==="matrix"){r=r.replace(i,`;${f({name:l,value:a})}`);continue}let u=encodeURIComponent(s==="label"?`.${a}`:a);r=r.replace(i,u);}return r},U=({allowReserved:t,array:e,object:r}={})=>i=>{let o=[];if(i&&typeof i=="object")for(let l in i){let s=i[l];if(s!=null)if(Array.isArray(s)){let a=m({allowReserved:t,explode:true,name:l,style:"form",value:s,...e});a&&o.push(a);}else if(typeof s=="object"){let a=g({allowReserved:t,explode:true,name:l,style:"deepObject",value:s,...r});a&&o.push(a);}else {let a=f({allowReserved:t,name:l,value:s});a&&o.push(a);}}return o.join("&")},A=async({security:t,...e})=>{for(let r of t){let n=await w(r,e.auth);if(!n)continue;let i=r.name??"Authorization";switch(r.in){case "query":e.query||(e.query={}),e.query[i]=n;break;case "cookie":{let o=`${i}=${n}`;"Cookie"in e.headers&&e.headers.Cookie?e.headers.Cookie=`${e.headers.Cookie}; ${o}`:e.headers.Cookie=o;break}case "header":default:e.headers[i]=n;break}return}},b=t=>D({path:t.path,query:t.paramsSerializer?void 0:t.query,querySerializer:typeof t.querySerializer=="function"?t.querySerializer:U(t.querySerializer),url:t.url}),D=({path:t,query:e,querySerializer:r,url:n})=>{let o=n.startsWith("/")?n:`/${n}`;t&&(o=E({path:t,url:o}));let l=e?r(e):"";return l.startsWith("?")&&(l=l.substring(1)),l&&(o+=`?${l}`),o},C=(t,e)=>{let r={...t,...e};return r.headers=y(t.headers,e.headers),r},H=["common","delete","get","head","patch","post","put"],y=(...t)=>{let e={};for(let r of t){if(!r||typeof r!="object")continue;let n=Object.entries(r);for(let[i,o]of n)if(H.includes(i)&&typeof o=="object")e[i]={...e[i],...o};else if(o===null)delete e[i];else if(Array.isArray(o))for(let l of o)e[i]=[...e[i]??[],l];else o!==void 0&&(e[i]=typeof o=="object"?JSON.stringify(o):o);}return e},S=(t={})=>({...t});var I=(t={})=>{let e=C(S(),t),{auth:r,...n}=e,i=B__default.default.create(n),o=()=>({...e}),l=a=>(e=C(e,a),i.defaults={...i.defaults,...e,headers:y(i.defaults.headers,e.headers)},o()),s=async a=>{let u={...e,...a,axios:a.axios??e.axios??i,headers:y(e.headers,a.headers)};u.security&&await A({...u,security:u.security}),u.body&&u.bodySerializer&&(u.body=u.bodySerializer(u.body));let d=b(u);try{let h=u.axios,{auth:c,...R}=u,x=await h({...R,baseURL:u.baseURL,data:u.body,headers:u.headers,params:u.paramsSerializer?u.query:void 0,url:d}),{data:p}=x;return u.responseType==="json"&&(u.responseValidator&&await u.responseValidator(p),u.responseTransformer&&(p=await u.responseTransformer(p))),{...x,data:p??{}}}catch(h){let c=h;if(u.throwOnError)throw c;return c.error=c.response?.data??{},c}};return {buildUrl:b,delete:a=>s({...a,method:"DELETE"}),get:a=>s({...a,method:"GET"}),getConfig:o,head:a=>s({...a,method:"HEAD"}),instance:i,options:a=>s({...a,method:"OPTIONS"}),patch:a=>s({...a,method:"PATCH"}),post:a=>s({...a,method:"POST"}),put:a=>s({...a,method:"PUT"}),request:s,setConfig:l}};exports.createClient=I;exports.createConfig=S;exports.formDataBodySerializer=j;exports.jsonBodySerializer=k;exports.urlSearchParamsBodySerializer=$;//# sourceMappingURL=index.cjs.map
//# sourceMappingURL=index.cjs.map