// This file is auto-generated by @hey-api/openapi-ts

import { buildClientParams, type Client, type Options as Options2, type TDataShape } from './client';
import { client } from './client.gen';
import type { AgentPartInput, AppAgentsResponses, AppGetResponses, AppInitResponses, AppLogResponses, Auth, AuthSetErrors, AuthSetResponses, ConfigGetResponses, ConfigProvidersResponses, EventSubscribeResponses, FilePartInput, FileReadResponses, FileStatusResponses, FindFilesResponses, FindSymbolsResponses, FindTextResponses, PostSessionByIdPermissionsByPermissionIdResponses, SessionAbortResponses, SessionChatResponses, SessionChildrenResponses, SessionCreateErrors, SessionCreateResponses, SessionDeleteResponses, SessionGetResponses, SessionInitResponses, SessionListResponses, SessionMessageResponses, SessionMessagesResponses, SessionRevertResponses, SessionShareResponses, SessionShellResponses, SessionSummarizeResponses, SessionUnrevertResponses, SessionUnshareResponses, SessionUpdateResponses, TextPartInput, TuiAppendPromptResponses, TuiClearPromptResponses, TuiExecuteCommandResponses, TuiOpenHelpResponses, TuiOpenModelsResponses, TuiOpenSessionsResponses, TuiOpenThemesResponses, TuiShowToastResponses, TuiSubmitPromptResponses } from './types.gen';

export type Options<TData extends TDataShape = TDataShape, ThrowOnError extends boolean = boolean> = Options2<TData, ThrowOnError> & {
    /**
     * You can provide a client instance returned by `createClient()` instead of
     * individual options. This might be also useful if you want to implement a
     * custom client.
     */
    client?: Client;
    /**
     * You can pass arbitrary values through the `meta` object. This can be
     * used to access values that aren't defined as part of the SDK function.
     */
    meta?: Record<string, unknown>;
};

/**
 * Get events
 */
export const eventSubscribe = <ThrowOnError extends boolean = false>(options?: Options<never, ThrowOnError>) => (options?.client ?? client).sse.get<EventSubscribeResponses, unknown, ThrowOnError>({ url: "/event", ...options });

/**
 * Get app info
 */
export const appGet = <ThrowOnError extends boolean = false>(options?: Options<never, ThrowOnError>) => (options?.client ?? client).get<AppGetResponses, unknown, ThrowOnError>({ url: "/app", ...options });

/**
 * Initialize the app
 */
export const appInit = <ThrowOnError extends boolean = false>(options?: Options<never, ThrowOnError>) => (options?.client ?? client).post<AppInitResponses, unknown, ThrowOnError>({ url: "/app/init", ...options });

/**
 * Get config info
 */
export const configGet = <ThrowOnError extends boolean = false>(options?: Options<never, ThrowOnError>) => (options?.client ?? client).get<ConfigGetResponses, unknown, ThrowOnError>({ url: "/config", ...options });

/**
 * List all sessions
 */
export const sessionList = <ThrowOnError extends boolean = false>(options?: Options<never, ThrowOnError>) => (options?.client ?? client).get<SessionListResponses, unknown, ThrowOnError>({ url: "/session", ...options });

/**
 * Create a new session
 */
export const sessionCreate = <ThrowOnError extends boolean = false>(parameters?: {
    parentID?: string;
    title?: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [{ in: "body", key: "parentID" }, { in: "body", key: "title" }]);
    return (options?.client ?? client).post<SessionCreateResponses, SessionCreateErrors, ThrowOnError>({
        url: "/session",
        ...options,
        ...params,
        headers: {
            "Content-Type": "application/json",
            ...options?.headers,
            ...params.headers
        }
    });
};

/**
 * Delete a session and all its data
 */
export const sessionDelete = <ThrowOnError extends boolean = false>(parameters: {
    id: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [{ in: "path", key: "id" }]);
    return (options?.client ?? client).delete<SessionDeleteResponses, unknown, ThrowOnError>({
        url: "/session/{id}",
        ...options,
        ...params
    });
};

/**
 * Get session
 */
export const sessionGet = <ThrowOnError extends boolean = false>(parameters: {
    id: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [{ in: "path", key: "id" }]);
    return (options?.client ?? client).get<SessionGetResponses, unknown, ThrowOnError>({
        url: "/session/{id}",
        ...options,
        ...params
    });
};

/**
 * Update session properties
 */
export const sessionUpdate = <ThrowOnError extends boolean = false>(parameters: {
    id: string;
    title?: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [{ in: "path", key: "id" }, { in: "body", key: "title" }]);
    return (options?.client ?? client).patch<SessionUpdateResponses, unknown, ThrowOnError>({
        url: "/session/{id}",
        ...options,
        ...params,
        headers: {
            "Content-Type": "application/json",
            ...options?.headers,
            ...params.headers
        }
    });
};

/**
 * Get a session's children
 */
export const sessionChildren = <ThrowOnError extends boolean = false>(parameters: {
    id: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [{ in: "path", key: "id" }]);
    return (options?.client ?? client).get<SessionChildrenResponses, unknown, ThrowOnError>({
        url: "/session/{id}/children",
        ...options,
        ...params
    });
};

/**
 * Analyze the app and create an AGENTS.md file
 */
export const sessionInit = <ThrowOnError extends boolean = false>(parameters: {
    id: string;
    messageID?: string;
    providerID?: string;
    modelID?: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [
        { in: "path", key: "id" },
        { in: "body", key: "messageID" },
        { in: "body", key: "providerID" },
        { in: "body", key: "modelID" }
    ]);
    return (options?.client ?? client).post<SessionInitResponses, unknown, ThrowOnError>({
        url: "/session/{id}/init",
        ...options,
        ...params,
        headers: {
            "Content-Type": "application/json",
            ...options?.headers,
            ...params.headers
        }
    });
};

/**
 * Abort a session
 */
export const sessionAbort = <ThrowOnError extends boolean = false>(parameters: {
    id: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [{ in: "path", key: "id" }]);
    return (options?.client ?? client).post<SessionAbortResponses, unknown, ThrowOnError>({
        url: "/session/{id}/abort",
        ...options,
        ...params
    });
};

/**
 * Unshare the session
 */
export const sessionUnshare = <ThrowOnError extends boolean = false>(parameters: {
    id: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [{ in: "path", key: "id" }]);
    return (options?.client ?? client).delete<SessionUnshareResponses, unknown, ThrowOnError>({
        url: "/session/{id}/share",
        ...options,
        ...params
    });
};

/**
 * Share a session
 */
export const sessionShare = <ThrowOnError extends boolean = false>(parameters: {
    id: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [{ in: "path", key: "id" }]);
    return (options?.client ?? client).post<SessionShareResponses, unknown, ThrowOnError>({
        url: "/session/{id}/share",
        ...options,
        ...params
    });
};

/**
 * Summarize the session
 */
export const sessionSummarize = <ThrowOnError extends boolean = false>(parameters: {
    id: string;
    providerID?: string;
    modelID?: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [
        { in: "path", key: "id" },
        { in: "body", key: "providerID" },
        { in: "body", key: "modelID" }
    ]);
    return (options?.client ?? client).post<SessionSummarizeResponses, unknown, ThrowOnError>({
        url: "/session/{id}/summarize",
        ...options,
        ...params,
        headers: {
            "Content-Type": "application/json",
            ...options?.headers,
            ...params.headers
        }
    });
};

/**
 * List messages for a session
 */
export const sessionMessages = <ThrowOnError extends boolean = false>(parameters: {
    id: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [{ in: "path", key: "id" }]);
    return (options?.client ?? client).get<SessionMessagesResponses, unknown, ThrowOnError>({
        url: "/session/{id}/message",
        ...options,
        ...params
    });
};

/**
 * Create and send a new message to a session
 */
export const sessionChat = <ThrowOnError extends boolean = false>(parameters: {
    id: string;
    messageID?: string;
    providerID?: string;
    modelID?: string;
    agent?: string;
    system?: string;
    tools?: {
        [key: string]: boolean;
    };
    parts?: Array<({
        type: "text";
    } & TextPartInput) | ({
        type: "file";
    } & FilePartInput) | ({
        type: "agent";
    } & AgentPartInput)>;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [
        { in: "path", key: "id" },
        { in: "body", key: "messageID" },
        { in: "body", key: "providerID" },
        { in: "body", key: "modelID" },
        { in: "body", key: "agent" },
        { in: "body", key: "system" },
        { in: "body", key: "tools" },
        { in: "body", key: "parts" }
    ]);
    return (options?.client ?? client).post<SessionChatResponses, unknown, ThrowOnError>({
        url: "/session/{id}/message",
        ...options,
        ...params,
        headers: {
            "Content-Type": "application/json",
            ...options?.headers,
            ...params.headers
        }
    });
};

/**
 * Get a message from a session
 */
export const sessionMessage = <ThrowOnError extends boolean = false>(parameters: {
    id: string;
    messageID: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [{ in: "path", key: "id" }, { in: "path", key: "messageID" }]);
    return (options?.client ?? client).get<SessionMessageResponses, unknown, ThrowOnError>({
        url: "/session/{id}/message/{messageID}",
        ...options,
        ...params
    });
};

/**
 * Run a shell command
 */
export const sessionShell = <ThrowOnError extends boolean = false>(parameters: {
    id: string;
    agent?: string;
    command?: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [
        { in: "path", key: "id" },
        { in: "body", key: "agent" },
        { in: "body", key: "command" }
    ]);
    return (options?.client ?? client).post<SessionShellResponses, unknown, ThrowOnError>({
        url: "/session/{id}/shell",
        ...options,
        ...params,
        headers: {
            "Content-Type": "application/json",
            ...options?.headers,
            ...params.headers
        }
    });
};

/**
 * Revert a message
 */
export const sessionRevert = <ThrowOnError extends boolean = false>(parameters: {
    id: string;
    messageID?: string;
    partID?: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [
        { in: "path", key: "id" },
        { in: "body", key: "messageID" },
        { in: "body", key: "partID" }
    ]);
    return (options?.client ?? client).post<SessionRevertResponses, unknown, ThrowOnError>({
        url: "/session/{id}/revert",
        ...options,
        ...params,
        headers: {
            "Content-Type": "application/json",
            ...options?.headers,
            ...params.headers
        }
    });
};

/**
 * Restore all reverted messages
 */
export const sessionUnrevert = <ThrowOnError extends boolean = false>(parameters: {
    id: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [{ in: "path", key: "id" }]);
    return (options?.client ?? client).post<SessionUnrevertResponses, unknown, ThrowOnError>({
        url: "/session/{id}/unrevert",
        ...options,
        ...params
    });
};

/**
 * Respond to a permission request
 */
export const postSessionByIdPermissionsByPermissionId = <ThrowOnError extends boolean = false>(parameters: {
    id: string;
    permissionID: string;
    response?: "once" | "always" | "reject";
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [
        { in: "path", key: "id" },
        { in: "path", key: "permissionID" },
        { in: "body", key: "response" }
    ]);
    return (options?.client ?? client).post<PostSessionByIdPermissionsByPermissionIdResponses, unknown, ThrowOnError>({
        url: "/session/{id}/permissions/{permissionID}",
        ...options,
        ...params,
        headers: {
            "Content-Type": "application/json",
            ...options?.headers,
            ...params.headers
        }
    });
};

/**
 * List all providers
 */
export const configProviders = <ThrowOnError extends boolean = false>(options?: Options<never, ThrowOnError>) => (options?.client ?? client).get<ConfigProvidersResponses, unknown, ThrowOnError>({ url: "/config/providers", ...options });

/**
 * Find text in files
 */
export const findText = <ThrowOnError extends boolean = false>(parameters: {
    pattern: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [{ in: "query", key: "pattern" }]);
    return (options?.client ?? client).get<FindTextResponses, unknown, ThrowOnError>({
        url: "/find",
        ...options,
        ...params
    });
};

/**
 * Find files
 */
export const findFiles = <ThrowOnError extends boolean = false>(parameters: {
    query: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [{ in: "query", key: "query" }]);
    return (options?.client ?? client).get<FindFilesResponses, unknown, ThrowOnError>({
        url: "/find/file",
        ...options,
        ...params
    });
};

/**
 * Find workspace symbols
 */
export const findSymbols = <ThrowOnError extends boolean = false>(parameters: {
    query: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [{ in: "query", key: "query" }]);
    return (options?.client ?? client).get<FindSymbolsResponses, unknown, ThrowOnError>({
        url: "/find/symbol",
        ...options,
        ...params
    });
};

/**
 * Read a file
 */
export const fileRead = <ThrowOnError extends boolean = false>(parameters: {
    path: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [{ in: "query", key: "path" }]);
    return (options?.client ?? client).get<FileReadResponses, unknown, ThrowOnError>({
        url: "/file",
        ...options,
        ...params
    });
};

/**
 * Get file status
 */
export const fileStatus = <ThrowOnError extends boolean = false>(options?: Options<never, ThrowOnError>) => (options?.client ?? client).get<FileStatusResponses, unknown, ThrowOnError>({ url: "/file/status", ...options });

/**
 * Write a log entry to the server logs
 */
export const appLog = <ThrowOnError extends boolean = false>(parameters?: {
    service?: string;
    level?: "debug" | "info" | "error" | "warn";
    message?: string;
    extra?: {
        [key: string]: unknown;
    };
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [
        { in: "body", key: "service" },
        { in: "body", key: "level" },
        { in: "body", key: "message" },
        { in: "body", key: "extra" }
    ]);
    return (options?.client ?? client).post<AppLogResponses, unknown, ThrowOnError>({
        url: "/log",
        ...options,
        ...params,
        headers: {
            "Content-Type": "application/json",
            ...options?.headers,
            ...params.headers
        }
    });
};

/**
 * List all agents
 */
export const appAgents = <ThrowOnError extends boolean = false>(options?: Options<never, ThrowOnError>) => (options?.client ?? client).get<AppAgentsResponses, unknown, ThrowOnError>({ url: "/agent", ...options });

/**
 * Append prompt to the TUI
 */
export const tuiAppendPrompt = <ThrowOnError extends boolean = false>(parameters?: {
    text?: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [{ in: "body", key: "text" }]);
    return (options?.client ?? client).post<TuiAppendPromptResponses, unknown, ThrowOnError>({
        url: "/tui/append-prompt",
        ...options,
        ...params,
        headers: {
            "Content-Type": "application/json",
            ...options?.headers,
            ...params.headers
        }
    });
};

/**
 * Open the help dialog
 */
export const tuiOpenHelp = <ThrowOnError extends boolean = false>(options?: Options<never, ThrowOnError>) => (options?.client ?? client).post<TuiOpenHelpResponses, unknown, ThrowOnError>({ url: "/tui/open-help", ...options });

/**
 * Open the session dialog
 */
export const tuiOpenSessions = <ThrowOnError extends boolean = false>(options?: Options<never, ThrowOnError>) => (options?.client ?? client).post<TuiOpenSessionsResponses, unknown, ThrowOnError>({ url: "/tui/open-sessions", ...options });

/**
 * Open the theme dialog
 */
export const tuiOpenThemes = <ThrowOnError extends boolean = false>(options?: Options<never, ThrowOnError>) => (options?.client ?? client).post<TuiOpenThemesResponses, unknown, ThrowOnError>({ url: "/tui/open-themes", ...options });

/**
 * Open the model dialog
 */
export const tuiOpenModels = <ThrowOnError extends boolean = false>(options?: Options<never, ThrowOnError>) => (options?.client ?? client).post<TuiOpenModelsResponses, unknown, ThrowOnError>({ url: "/tui/open-models", ...options });

/**
 * Submit the prompt
 */
export const tuiSubmitPrompt = <ThrowOnError extends boolean = false>(options?: Options<never, ThrowOnError>) => (options?.client ?? client).post<TuiSubmitPromptResponses, unknown, ThrowOnError>({ url: "/tui/submit-prompt", ...options });

/**
 * Clear the prompt
 */
export const tuiClearPrompt = <ThrowOnError extends boolean = false>(options?: Options<never, ThrowOnError>) => (options?.client ?? client).post<TuiClearPromptResponses, unknown, ThrowOnError>({ url: "/tui/clear-prompt", ...options });

/**
 * Execute a TUI command (e.g. agent_cycle)
 */
export const tuiExecuteCommand = <ThrowOnError extends boolean = false>(parameters?: {
    command?: string;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [{ in: "body", key: "command" }]);
    return (options?.client ?? client).post<TuiExecuteCommandResponses, unknown, ThrowOnError>({
        url: "/tui/execute-command",
        ...options,
        ...params,
        headers: {
            "Content-Type": "application/json",
            ...options?.headers,
            ...params.headers
        }
    });
};

/**
 * Show a toast notification in the TUI
 */
export const tuiShowToast = <ThrowOnError extends boolean = false>(parameters?: {
    title?: string;
    message?: string;
    variant?: "info" | "success" | "warning" | "error";
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [
        { in: "body", key: "title" },
        { in: "body", key: "message" },
        { in: "body", key: "variant" }
    ]);
    return (options?.client ?? client).post<TuiShowToastResponses, unknown, ThrowOnError>({
        url: "/tui/show-toast",
        ...options,
        ...params,
        headers: {
            "Content-Type": "application/json",
            ...options?.headers,
            ...params.headers
        }
    });
};

/**
 * Set authentication credentials
 */
export const authSet = <ThrowOnError extends boolean = false>(parameters: {
    id: string;
    auth?: Auth;
}, options?: Options<never, ThrowOnError>) => {
    const params = buildClientParams([parameters], [{ in: "path", key: "id" }, {}]);
    return (options?.client ?? client).put<AuthSetResponses, AuthSetErrors, ThrowOnError>({
        url: "/auth/{id}",
        ...options,
        ...params,
        headers: {
            "Content-Type": "application/json",
            ...options?.headers,
            ...params.headers
        }
    });
};
