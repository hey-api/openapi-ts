// This file is auto-generated by @hey-api/openapi-ts

import type { GetActivityResponse, GetEntriesResponse, GetEntryResponse, GetEventResponse, GetNestedEntryResponse, GetNotificationResponse } from './types.gen';

const textEntrySchemaResponseTransformer = (data: any) => {
    data.createdAt = new Date(data.createdAt);
    if (data.updatedAt) {
        data.updatedAt = new Date(data.updatedAt);
    }
    return data;
};

const fileEntrySchemaResponseTransformer = (data: any) => {
    data.createdAt = new Date(data.createdAt);
    if (data.fileSize) {
        data.fileSize = BigInt(data.fileSize.toString());
    }
    return data;
};

const imageEntrySchemaResponseTransformer = (data: any) => {
    data.capturedAt = new Date(data.capturedAt);
    return data;
};

const entrySchemaResponseTransformer = (data: any) => {
    if (data.type === 'text') {
        data = textEntrySchemaResponseTransformer(data);
    }
    else {
        if (data.type === 'file') {
            data = fileEntrySchemaResponseTransformer(data);
        }
        else {
            if (data.type === 'image') {
                data = imageEntrySchemaResponseTransformer(data);
            }
        }
    }
    return data;
};

export const getEntriesResponseTransformer = async (data: any): Promise<GetEntriesResponse> => {
    data = data.map((item: any) => entrySchemaResponseTransformer(item));
    return data;
};

export const getEntryResponseTransformer = async (data: any): Promise<GetEntryResponse> => {
    data = entrySchemaResponseTransformer(data);
    return data;
};

const containerSchemaResponseTransformer = (data: any) => {
    data.entry = entrySchemaResponseTransformer(data.entry);
    data.createdAt = new Date(data.createdAt);
    if (data.entries) {
        data.entries = data.entries.map((item: any) => entrySchemaResponseTransformer(item));
    }
    return data;
};

export const getNestedEntryResponseTransformer = async (data: any): Promise<GetNestedEntryResponse> => {
    data = containerSchemaResponseTransformer(data);
    return data;
};

const emailEventSchemaResponseTransformer = (data: any) => {
    data.emailDetails.sentAt = new Date(data.emailDetails.sentAt);
    if (data.emailDetails.receivedAt) {
        data.emailDetails.receivedAt = new Date(data.emailDetails.receivedAt);
    }
    data.timestamp = new Date(data.timestamp);
    return data;
};

const pushEventSchemaResponseTransformer = (data: any) => {
    data.pushDetails.deliveredAt = new Date(data.pushDetails.deliveredAt);
    if (data.pushDetails.expiresAt) {
        data.pushDetails.expiresAt = new Date(data.pushDetails.expiresAt);
    }
    data.timestamp = new Date(data.timestamp);
    return data;
};

const smsEventSchemaResponseTransformer = (data: any) => {
    data.smsDetails.sentAt = new Date(data.smsDetails.sentAt);
    data.timestamp = new Date(data.timestamp);
    return data;
};

const eventSchemaResponseTransformer = (data: any) => {
    if (data.kind === 'email') {
        data = emailEventSchemaResponseTransformer(data);
    }
    else {
        if (data.kind === 'push') {
            data = pushEventSchemaResponseTransformer(data);
        }
        else {
            if (data.kind === 'sms') {
                data = smsEventSchemaResponseTransformer(data);
            }
        }
    }
    return data;
};

export const getEventResponseTransformer = async (data: any): Promise<GetEventResponse> => {
    data = eventSchemaResponseTransformer(data);
    return data;
};

const infoNotificationSchemaResponseTransformer = (data: any) => {
    data.createdAt = new Date(data.createdAt);
    return data;
};

const warningNotificationSchemaResponseTransformer = (data: any) => {
    data.createdAt = new Date(data.createdAt);
    return data;
};

const errorNotificationSchemaResponseTransformer = (data: any) => {
    data.occurredAt = new Date(data.occurredAt);
    if (data.resolvedAt) {
        data.resolvedAt = new Date(data.resolvedAt);
    }
    return data;
};

const notificationSchemaResponseTransformer = (data: any) => {
    if (data.level === 'info') {
        data = infoNotificationSchemaResponseTransformer(data);
    }
    else {
        if (data.level === 'warning') {
            data = warningNotificationSchemaResponseTransformer(data);
        }
        else {
            if (data.level === 'error') {
                data = errorNotificationSchemaResponseTransformer(data);
            }
        }
    }
    return data;
};

export const getNotificationResponseTransformer = async (data: any): Promise<GetNotificationResponse> => {
    data = notificationSchemaResponseTransformer(data);
    return data;
};

const loginActivitySchemaResponseTransformer = (data: any) => {
    data.loginTime = new Date(data.loginTime);
    if (data.lastSeenAt) {
        data.lastSeenAt = new Date(data.lastSeenAt);
    }
    return data;
};

const logoutActivitySchemaResponseTransformer = (data: any) => {
    data.logoutTime = new Date(data.logoutTime);
    if (data.sessionDuration) {
        data.sessionDuration = BigInt(data.sessionDuration.toString());
    }
    return data;
};

const passwordChangeActivitySchemaResponseTransformer = (data: any) => {
    data.changedAt = new Date(data.changedAt);
    if (data.expiresAt) {
        data.expiresAt = new Date(data.expiresAt);
    }
    return data;
};

const activitySchemaResponseTransformer = (data: any) => {
    if (data.action === 'login') {
        data = loginActivitySchemaResponseTransformer(data);
    }
    else {
        if (data.action === 'logout') {
            data = logoutActivitySchemaResponseTransformer(data);
        }
        else {
            if (data.action === 'password_change') {
                data = passwordChangeActivitySchemaResponseTransformer(data);
            }
        }
    }
    return data;
};

export const getActivityResponseTransformer = async (data: any): Promise<GetActivityResponse> => {
    data = activitySchemaResponseTransformer(data);
    return data;
};
