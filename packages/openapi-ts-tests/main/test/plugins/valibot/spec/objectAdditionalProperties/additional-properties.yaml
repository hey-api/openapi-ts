openapi: '3.1.0'
info:
  title: Object Additional Properties Test API
  version: '1.0.0'
paths: {}
components:
  schemas:
    # Test case from the issue: object with additionalProperties type string
    ObjectWithAdditionalPropertiesString:
      type: object
      properties:
        headers:
          type: object
          additionalProperties:
            type: string

    # Object with no properties, only additionalProperties with string type
    ObjectOnlyAdditionalPropertiesString:
      type: object
      additionalProperties:
        type: string

    # Object with no properties, only additionalProperties with number type
    ObjectOnlyAdditionalPropertiesNumber:
      type: object
      additionalProperties:
        type: number

    # Object with no properties, only additionalProperties with boolean type
    ObjectOnlyAdditionalPropertiesBoolean:
      type: object
      additionalProperties:
        type: boolean

    # Object with properties and additionalProperties number
    ObjectWithPropertiesAndAdditionalPropertiesNumber:
      type: object
      properties:
        id:
          type: string
        count:
          type: integer
      additionalProperties:
        type: number

    # Object with additionalProperties as object type
    ObjectWithAdditionalPropertiesObject:
      type: object
      properties:
        metadata:
          type: object
          additionalProperties:
            type: object
            properties:
              value:
                type: string

    # Already working case: object with no properties and additionalProperties object
    ObjectOnlyAdditionalPropertiesObject:
      type: object
      additionalProperties:
        type: object
        properties:
          name:
            type: string
